var $=(f,m,r)=>new Promise((u,s)=>{var i=c=>{try{v(r.next(c))}catch(x){s(x)}},a=c=>{try{v(r.throw(c))}catch(x){s(x)}},v=c=>c.done?u(c.value):Promise.resolve(c.value).then(i,a);v((r=r.apply(f,m)).next())});import{r as n,u as R,a as H,b as q,j as e,m as l,A as D}from"./animation-BP6cVfhz.js";import{c as Q}from"./three-CGOfjjel.js";import"./vendor-rxzC6AyD.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const d=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,g=(f,m)=>{const r=encodeURIComponent(`${f.title} ${f.artist}`),u={spotify:`https://open.spotify.com/search/${r}`,apple:`https://music.apple.com/search?term=${r}`,youtube:`https://music.youtube.com/search?q=${r}`};window.open(u[m],"_blank")};function _(){const[f,m]=n.useState(!1),[r,u]=n.useState(!1),[s,i]=n.useState("Music is the universal language of mankind."),[a,v]=n.useState(null),[c,x]=n.useState([]),[L,S]=n.useState([]),T=n.useRef(null),I=n.useRef(null),{scrollY:P}=R(),[O]=n.useState(()=>Math.floor(Math.random()*1070)+30),E=H(P,[0,1e3],[0,-100]),A=q(E,{stiffness:100,damping:30});return n.useEffect(()=>{const t=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff","#5f27cd","#00d2d3","#ff9f43","#10ac84","#ee5a24","#ff3838","#ff6348","#ffa502","#2ed573","#1e90ff","#ff4757"],o=["glow","sparkle","pulse","float"],p=d()?15:25,h=Array.from({length:p},(C,j)=>({id:j,x:Math.random()*100,y:Math.random()*100,color:t[Math.floor(Math.random()*t.length)],size:d()?Math.random()*2+1.5:Math.random()*3+2,speed:d()?Math.random()*2+1.5:Math.random()*3+2,type:o[Math.floor(Math.random()*o.length)]}));S(h)},[]),n.useEffect(()=>{const t=()=>$(null,null,function*(){var p;try{const h="2840907d76d8663a220f47b01f14a5b6",j=`https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=camsup&api_key=${h}&format=json&limit=10`,b=yield fetch(j);if(!b.ok)throw new Error(`HTTP error! status: ${b.status}`);const w=yield b.json();if(w.error)throw new Error(`Last.fm API Error ${w.error}: ${w.message}`);if((p=w.recenttracks)!=null&&p.track){const N=w.recenttracks.track.map(y=>{var k,M;return{title:y.name,artist:y.artist["#text"],album:y.album["#text"],artwork:y.image[2]["#text"],isNowPlaying:((k=y["@attr"])==null?void 0:k.nowplaying)==="true",timestamp:(M=y.date)==null?void 0:M["#text"]}});v(N[0]),x(N.slice(1,6))}}catch(h){console.error("âŒ Last.fm error:",h)}});t();const o=setInterval(t,3e4);return()=>clearInterval(o)},[]),n.useEffect(()=>{const t=["Music is the universal language of mankind.","Where words fail, music speaks.","Music is life itself.","One good thing about music, when it hits you, you feel no pain.","Music is the soundtrack of your life.","Without music, life would be a mistake.","Music is the divine way to tell beautiful, poetic things to the heart.","Music is the art of thinking with sounds.","Music is the poetry of the air.","Music is the strongest form of magic."];let o=0;const p=setInterval(()=>{i(t[o]),o=(o+1)%t.length},2e3),h=setTimeout(()=>m(!0),800);return()=>{clearTimeout(h),clearInterval(p)}},[]),e.jsxs("div",{className:"app-container",ref:T,children:[e.jsxs("div",{className:"video-background",children:[!r&&e.jsx("div",{className:"video-loading",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-particles",children:Array.from({length:20},(t,o)=>e.jsx("div",{className:"loading-particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*3}s`}},o))}),e.jsxs(l.div,{className:"loading-quote",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:['"',s,'"']},s)]})}),e.jsx("iframe",{ref:I,src:`https://www.youtube.com/embed/Q1LpcdlOxRo?autoplay=1&mute=1&loop=1&playlist=Q1LpcdlOxRo&controls=0&showinfo=0&rel=0&modestbranding=1&playsinline=1&enablejsapi=1&iv_load_policy=3&disablekb=1&start=${O}&fs=0&color=white&theme=dark&wmode=transparent&origin=${window.location.origin}&vq=hd1080&autohide=1&modestbranding=1&showinfo=0`,title:"Background Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:`background-video ${r?"loaded":""}`,onLoad:()=>{u(!0),setTimeout(()=>u(!0),1e3)},onError:t=>console.log("Video failed to load:",t)}),e.jsx("div",{className:"video-overlay"})]}),e.jsx("div",{className:"background-grid"}),e.jsx("div",{className:"floating-particles",children:L.map(t=>e.jsx(l.div,{className:`particle particle-${t.type}`,style:{left:`${t.x}%`,top:`${t.y}%`,color:t.color,width:`${t.size}px`,height:`${t.size}px`},animate:{y:[0,-30,0],x:[0,Math.random()*20-10,0],opacity:[.2,.9,.2],scale:[1,1.3,1]},transition:{duration:t.speed+Math.random()*3,repeat:1/0,delay:Math.random()*5,ease:"easeInOut"}},t.id))}),e.jsx(D,{children:f&&e.jsxs(l.div,{className:"main-content",style:{y:d()?0:A},initial:{opacity:0,scale:.95,y:d()?20:0},animate:{opacity:1,scale:1,y:0},transition:{duration:1,ease:[.25,.46,.45,.94]},children:[e.jsxs(l.h1,{className:"title",whileHover:{scale:d()?1.02:1.05,textShadow:"0 0 30px rgba(255,255,255,0.5)"},whileTap:{scale:.95},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},children:[e.jsx("span",{className:"title-letter",style:{animationDelay:"0.1s"},children:"C"}),e.jsx("span",{className:"title-letter",style:{animationDelay:"0.2s"},children:"A"}),e.jsx("span",{className:"title-letter",style:{animationDelay:"0.3s"},children:"M"})]}),a?e.jsxs(l.div,{className:"music-widget",initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.6,duration:.8,ease:[.25,.46,.45,.94]},whileHover:{scale:d()?1.02:1.05,y:d()?0:-5},whileTap:{scale:.98},children:[e.jsxs("div",{className:"track-info",children:[a.artwork&&e.jsx("div",{className:"artwork",children:e.jsx("img",{src:a.artwork,alt:a.album})}),e.jsxs("div",{className:"track-details",children:[e.jsx("div",{className:"track-name",children:a.title}),e.jsx("div",{className:"track-artist",children:a.artist}),e.jsx("div",{className:"track-album",children:a.album})]})]}),a.isNowPlaying&&e.jsxs("div",{className:"live-indicator",children:[e.jsx("div",{className:"live-dot"}),e.jsx("span",{className:"live-text",children:"LIVE"})]}),e.jsxs("div",{className:"music-service-buttons",children:[e.jsx(l.button,{className:"music-service-btn spotify",onClick:()=>g(a,"spotify"),whileHover:{scale:1.05},whileTap:{scale:.95},title:"Open in Spotify",children:e.jsx("span",{children:"ðŸŽµ"})}),e.jsx(l.button,{className:"music-service-btn apple",onClick:()=>g(a,"apple"),whileHover:{scale:1.05},whileTap:{scale:.95},title:"Open in Apple Music",children:e.jsx("span",{children:"ðŸŽ"})}),e.jsx(l.button,{className:"music-service-btn youtube",onClick:()=>g(a,"youtube"),whileHover:{scale:1.05},whileTap:{scale:.95},title:"Open in YouTube Music",children:e.jsx("span",{children:"â–¶ï¸"})})]})]}):e.jsx(l.div,{className:"music-widget",initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.6,duration:.8,ease:[.25,.46,.45,.94]},whileHover:{scale:d()?1.02:1.05,y:d()?0:-5},whileTap:{scale:.98},children:e.jsxs("div",{className:"track-info",children:[e.jsx("div",{className:"artwork",children:e.jsx("div",{style:{width:"100%",height:"100%",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"ðŸŽµ"})}),e.jsxs("div",{className:"track-details",children:[e.jsx("div",{className:"track-name",children:"Last.fm Not Connected"}),e.jsx("div",{className:"track-artist",children:"Add your API key to .env"}),e.jsx("div",{className:"track-album",children:"Check setup-lastfm.md"})]})]})}),c.length>0&&e.jsxs(l.div,{className:"recent-tracks-flowing",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8,duration:.8,ease:[.25,.46,.45,.94]},children:[e.jsx("div",{className:"recent-tracks-label",children:"Recently Played"}),e.jsx("div",{className:"recent-tracks-flow",children:c.map((t,o)=>e.jsxs(l.div,{className:"recent-track-flow-item",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.9+o*.15,duration:.6,ease:[.25,.46,.45,.94]},whileHover:{scale:1.05,y:-2},onClick:()=>g(t,"spotify"),style:{cursor:"pointer"},title:`Listen to ${t.title} by ${t.artist} on Spotify`,children:[e.jsx("div",{className:"recent-track-flow-artwork",children:t.artwork?e.jsx("img",{src:t.artwork,alt:t.album}):e.jsx("div",{className:"recent-track-flow-placeholder",children:"ðŸŽµ"})}),e.jsxs("div",{className:"recent-track-flow-info",children:[e.jsx("div",{className:"recent-track-flow-name",children:t.title}),e.jsx("div",{className:"recent-track-flow-artist",children:t.artist})]})]},`${t.title}-${t.artist}-${o}`))})]})]})})]})}Q.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(_,{})}));
